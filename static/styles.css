:root {
  --bg: #0b1220;
  --ink: #e6edf3;
  --muted: #a9b6c8;
  --card: #101827;
  --accent: #7dd3fc;
  --accent-strong: #38bdf8;
  --glass: rgba(255,255,255,0.06);
  --border: #20304a;
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin:0; font:16px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color:var(--ink); background:radial-gradient(1200px 700px at 10% -10%, #0f1b33, #0b1220 60%);
}
a { color: var(--accent); text-decoration: none; }
.topbar {
  display:flex; gap:16px; align-items:center; padding:16px 20px;
  background:linear-gradient(90deg, #0b1220, #14223c);
  border-bottom:1px solid var(--border);
  position: sticky; top: 0; z-index: 10;
  backdrop-filter: blur(6px);
}
.topbar .logo { font-weight:800; color:#fff; letter-spacing:0.3px; }
.page { padding: 22px; max-width: 1200px; margin: 0 auto; }
.foot { padding: 24px; color: var(--muted); text-align:center; }

.cards { list-style:none; padding:0; display:grid; grid-template-columns: repeat(auto-fill, minmax(260px,1fr)); gap:14px; }
.card { display:block; background:var(--card); padding:16px; border-radius:14px; border:1px solid var(--border); color:var(--ink); box-shadow: 0 8px 24px rgba(0,0,0,0.25); }

h1,h2,h3 { margin: 10px 0 12px; }
.toolbar { display:flex; flex-wrap:wrap; gap:12px; align-items:center; margin-bottom:14px; }
.toolbar.glass { background: var(--glass); border:1px solid var(--border); padding:10px 12px; border-radius:12px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.05); }
.toolbar form.inline { display:flex; gap:6px; align-items:center; }
label { font-size: 12px; color: var(--muted); margin-right: 6px; }
input[type='number'], select, input[type='file'] {
  padding:8px 10px; border-radius:8px; border:1px solid var(--border);
  background:#0e1628; color:#fff;
}
button, .btn {
  background:linear-gradient(180deg, var(--accent), var(--accent-strong));
  color:#08111f; border:none; padding:10px 12px; border-radius:10px; cursor:pointer; font-weight:700;
  box-shadow: 0 6px 18px rgba(56,189,248,0.25);
}
button:hover { filter: brightness(1.05); }

.layout { display:grid; grid-template-columns: 1.1fr 0.9fr; gap:16px; }
@media (max-width: 980px) { .layout { grid-template-columns: 1fr; } }

.chat {
  display:flex; flex-direction: column; gap:12px; max-height: 52vh; overflow:auto;
  border:1px solid var(--border); padding:12px; border-radius:12px;
  background: radial-gradient(600px 400px at 100% 0%, rgba(168,85,247,0.06), transparent 60%), #0e1628;
}
.msg { display:flex; }
.msg.user { justify-content:flex-end; }
.msg.assistant { justify-content:flex-start; }
.bubble {
  max-width: 75%; background: linear-gradient(180deg, #0f182a, #0d1422);
  padding: 12px 14px; border:1px solid var(--border); border-radius:12px; white-space:pre-wrap;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
}
.msg.user .bubble { background: linear-gradient(180deg, #13213a, #101b33); }
.meta { font-size: 12px; color: var(--muted); margin-bottom: 6px; display:flex; gap:8px; align-items:center;}
.tag { background:#22314d; padding:2px 6px; border-radius:6px; color:#cfe1ff; border:1px solid #2f4671; }
.composer { display:grid; gap:10px; margin-top:12px; }
.composer textarea {
  width:100%; padding:12px; border-radius:10px;
  background:#0e1628; color:#fff; border:1px solid var(--border);
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.35);
}
.composer .row { display:flex; align-items:center; gap:10px; }

.panel {
  margin-top: 16px; background: linear-gradient(180deg, #0f182a, #0d1526);
  border:1px solid var(--border); border-radius:12px; padding:12px;
  box-shadow: 0 10px 24px rgba(0,0,0,0.25);
}
.grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px,1fr)); gap:12px; }
summary { cursor:pointer; }

/* Mermaid container */
.mermaid-card {
  background: radial-gradient(600px 400px at 0% 0%, rgba(59,130,246,0.08), transparent 60%), #0e1628;
  border:1px solid var(--border);
  border-radius:12px; padding:8px; overflow:auto; max-height: 56vh;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
}
.legend { margin-top: 8px; display:flex; gap:8px; flex-wrap: wrap; }
.pill { font-size: 12px; padding:4px 8px; border-radius: 999px; border:1px solid var(--border); background: var(--glass); }
.pill.step { border-color:#67e8f9; color:#67e8f9; }
.pill.decision { border-color:#fde68a; color:#fde68a; }
.pill.actor { border-color:#86efac; color:#86efac; }
.pill.tool { border-color:#ddd6fe; color:#ddd6fe; }
